"use strict";(self.webpackChunklumen_laptop=self.webpackChunklumen_laptop||[]).push([[693,4357],{7370:(e,t,r)=>{r.r(t),r.d(t,{default:()=>I});var n=r(2759),a=r(38783),o=r(44877),i=r(35751),l=r(65787),c=r(29404),s=r(66038),u=r(14070),f=r(51112),d=r(78974),p=r(63054),m=r(64964),h=r(87995),g=r(61145),b=r(80572),v=r(24787),y=r(60043),w=r(44357);function x(e){return x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},x(e)}function E(){E=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var o=t&&t.prototype instanceof b?t:b,i=Object.create(o.prototype),l=new L(n||[]);return a(i,"_invoke",{value:I(e,r,l)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var d="suspendedStart",p="suspendedYield",m="executing",h="completed",g={};function b(){}function v(){}function y(){}var w={};s(w,i,(function(){return this}));var k=Object.getPrototypeOf,A=k&&k(k(O([])));A&&A!==r&&n.call(A,i)&&(w=A);var S=y.prototype=b.prototype=Object.create(w);function C(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function N(e,t){function r(a,o,i,l){var c=f(e[a],e,o);if("throw"!==c.type){var s=c.arg,u=s.value;return u&&"object"==x(u)&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,i,l)}),(function(e){r("throw",e,i,l)})):t.resolve(u).then((function(e){s.value=e,i(s)}),(function(e){return r("throw",e,i,l)}))}l(c.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,a){r(e,n,t,a)}))}return o=o?o.then(a,a):a()}})}function I(t,r,n){var a=d;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var l=n.delegate;if(l){var c=T(l,n);if(c){if(c===g)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===d)throw a=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var s=f(t,r,n);if("normal"===s.type){if(a=n.done?h:p,s.arg===g)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(a=h,n.method="throw",n.arg=s.arg)}}}function T(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,T(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),g;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,g;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,g):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,g)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function R(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function O(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(x(t)+" is not iterable")}return v.prototype=y,a(S,"constructor",{value:y,configurable:!0}),a(y,"constructor",{value:v,configurable:!0}),v.displayName=s(y,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,s(e,c,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},C(N.prototype),s(N.prototype,l,(function(){return this})),t.AsyncIterator=N,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new N(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},C(S),s(S,c,"Generator"),s(S,i,(function(){return this})),s(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=O,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(R),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return l.type="throw",l.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),R(r),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;R(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:O(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),g}},t}function k(e,t,r,n,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void r(e)}l.done?t(c):Promise.resolve(c).then(n,a)}function A(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){k(o,n,a,i,l,"next",e)}function l(e){k(o,n,a,i,l,"throw",e)}i(void 0)}))}}function S(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,l=[],c=!0,s=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return C(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?C(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var N=(0,d.A)((function(e){return{content:{height:"87%",overflow:"hidden",background:"#16213e","&::-webkit-scrollbar":{width:6},"&::-webkit-scrollbar-thumb":{background:"rgba(134, 133, 239, 0.4)",borderRadius:"3px"},"&::-webkit-scrollbar-thumb:hover":{background:"#8685EF"},"&::-webkit-scrollbar-track":{background:"transparent"}},header:{fontSize:24,fontFamily:'"Segoe UI", Tahoma, Geneva, Verdana, sans-serif',fontWeight:"600",color:"white",marginTop:20,marginBottom:20,textAlign:"center",position:"relative","& span":{background:"rgba(134, 133, 239, 0.2)",borderRadius:"8px",padding:"8px 20px",border:"1px solid rgba(134, 133, 239, 0.3)",zIndex:1,position:"relative"}},flexContainer:{display:"flex",padding:"0 16px",gap:"16px",height:"100%"},detailsContainer:{flex:"0 0 35%",padding:"20px",borderRadius:"12px",background:"rgba(134, 133, 239, 0.15)",border:"1px solid rgba(134, 133, 239, 0.2)",overflowY:"hidden",height:"40%",position:"relative"},racersContainer:{flex:"0 0 60%",padding:"20px",textAlign:"center",borderRadius:"12px",background:"rgba(134, 133, 239, 0.15)",border:"1px solid rgba(134, 133, 239, 0.2)",display:"flex",flexDirection:"column",height:"90%"},racersInner:{flex:1,maxHeight:"100%",overflowY:"auto",padding:"0 16px",listStyle:"none !important","&::-webkit-scrollbar":{width:6},"&::-webkit-scrollbar-thumb":{background:"rgba(134, 133, 239, 0.4)",borderRadius:"3px"},"&::-webkit-scrollbar-thumb:hover":{background:"#8685EF"},"&::-webkit-scrollbar-track":{background:"transparent"}},item:{display:"flex",alignItems:"center",marginBottom:16,padding:"8px 0"},label:{fontSize:14,fontFamily:'"Segoe UI", Tahoma, Geneva, Verdana, sans-serif',color:"rgba(255, 255, 255, 0.7)",display:"flex",alignItems:"center",gap:8,marginRight:12,minWidth:"80px","& svg":{fontSize:14,color:"#8685EF"}},value:{fontSize:16,fontFamily:'"Segoe UI", Tahoma, Geneva, Verdana, sans-serif',color:"white",fontWeight:"500",transition:"color 0.2s ease","&.clickable:hover":{cursor:"pointer",color:"#8685EF"}},closeButton:{position:"absolute",height:48,width:48,top:60,right:10,borderRadius:"12px",backgroundColor:"rgba(255, 107, 107, 0.2)",border:"1px solid rgba(255, 107, 107, 0.3)",color:"#ff6b6b",transition:"all 0.2s ease","&:hover":{backgroundColor:"rgba(255, 107, 107, 0.3)",transform:"scale(1.05)"},"&:focus":{outline:"none",boxShadow:"0 0 0 2px rgba(255, 107, 107, 0.5)"}},buttonContainer:{marginTop:16,display:"flex",flexDirection:"column",gap:8},actionButtons:{position:"absolute",top:12,right:12,display:"flex",gap:8},actionButton:{width:"40px",height:"40px",borderRadius:"8px",transition:"all 0.2s ease","&:focus":{outline:"none",boxShadow:"none"},"&.start":{color:"#51cf66",backgroundColor:"rgba(81, 207, 102, 0.2)",border:"1px solid rgba(81, 207, 102, 0.3)","&:hover":{backgroundColor:"rgba(81, 207, 102, 0.3)",transform:"scale(1.05)"}},"&.cancel":{color:"#ff6b6b",backgroundColor:"rgba(255, 107, 107, 0.2)",border:"1px solid rgba(255, 107, 107, 0.3)","&:hover":{backgroundColor:"rgba(255, 107, 107, 0.3)",transform:"scale(1.05)"}},"&.invite":{color:"#8685EF",backgroundColor:"rgba(134, 133, 239, 0.2)",border:"1px solid rgba(134, 133, 239, 0.3)","&:hover":{backgroundColor:"rgba(134, 133, 239, 0.3)",transform:"scale(1.05)"}},"&.join":{color:"#51cf66",backgroundColor:"rgba(81, 207, 102, 0.2)",border:"1px solid rgba(81, 207, 102, 0.3)","&:hover":{backgroundColor:"rgba(81, 207, 102, 0.3)",transform:"scale(1.05)"}},"&.leave":{color:"#ffd43b",backgroundColor:"rgba(255, 212, 59, 0.2)",border:"1px solid rgba(255, 212, 59, 0.3)","&:hover":{backgroundColor:"rgba(255, 212, 59, 0.3)",transform:"scale(1.05)"}}},sectionLabel:{color:"#8685EF",fontFamily:'"Segoe UI", Tahoma, Geneva, Verdana, sans-serif',fontWeight:"600",fontSize:"16px",marginBottom:"12px",textAlign:"left"},noracers:{color:"rgba(255, 255, 255, 0.7)",fontFamily:'"Segoe UI", Tahoma, Geneva, Verdana, sans-serif',fontSize:"16px",marginTop:"20px"}}}));const I=function(e){var t,r,d=e.id,x=e.onClose,k=e.onViewProfile,C=N(),I=(0,h.MW)(),T=(0,a.wA)(),j=(0,a.d4)((function(e){return e.data.data.onDuty})),R=(0,a.d4)((function(e){return e.data.data.player.SID})),L=(0,a.d4)((function(e){var t;return null===(t=e.data.data.player)||void 0===t||null===(t=t.Profiles)||void 0===t||null===(t=t.redline)||void 0===t?void 0:t.name})),O=(0,a.d4)((function(e){return e.race.inRace})),P=(0,a.d4)((function(e){return e.data.data.tracks})),F=(0,a.d4)((function(e){return e.race.races[d]})),_=w.GhostTypes.filter((function(e){return e.value===(null==F?void 0:F.phasing)}))[0],D=S((0,n.useState)(!1),2),W=D[0],G=D[1],B=S((0,n.useState)(null),2),U=B[0],V=B[1],M=S((0,n.useState)(null),2),z=M[0],Y=M[1],H=S((0,n.useState)(null),2),q=H[0],$=H[1],J=S((0,n.useState)(!1),2),X=J[0],K=J[1];(0,n.useEffect)((function(){G(!1)}),[d]),(0,n.useEffect)((function(){if(F){var e=P.filter((function(e){return e.id===F.track}))[0];V(e),G(!0)}}),[F,P]);var Q=function(){var e=A(E().mark((function e(){var t;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.A.send("JoinRace",F.id);case 3:return e.next=5,e.sent.json();case 5:t=e.sent,I(t?"Joined Race":"Unable to Join Race"),t&&T({type:"I_RACE",payload:{state:!0}}),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0),I("Unable to Join Race");case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),Z=function(){var e=A(E().mark((function e(){var t;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.A.send("LeaveRace",F.id);case 3:return e.next=5,e.sent.json();case 5:t=e.sent,I(t?"Left Race":"Unable to Leave Race"),t&&(T({type:"I_RACE",payload:{state:!1}}),x&&x()),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0),I("Unable to Leave Race");case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),ee=function(){var e=A(E().mark((function e(){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===F.state){e.next=3;break}return I("Race cannot be canceled at this time"),e.abrupt("return");case 3:return e.prev=3,e.next=6,y.A.send("CancelRace",F.id);case 6:return e.next=8,e.sent.json();case 8:e.sent?(T({type:"I_RACE",payload:{state:!1}}),I("Race Cancelled"),x&&x()):I("Unable to Cancel Race"),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(3),console.error(e.t0),I("Error Cancelling Race");case 16:case"end":return e.stop()}}),e,null,[[3,12]])})));return function(){return e.apply(this,arguments)}}(),te=function(){var e=A(E().mark((function e(){var t;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.A.send("StartRace",F.id);case 3:return e.next=5,e.sent.json();case 5:t=e.sent,I(null!=t&&t.failed?t.message:"Starting Race"),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0),I("Unable to Start Race");case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),re=function(){var e=A(E().mark((function e(){var t;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.A.send("EndRace",F.id);case 3:return e.next=5,e.sent.json();case 5:t=e.sent,I(t?"Event Ended":"Unable to End Event"),t&&(T({type:"I_RACE",payload:{state:!1}}),x&&x()),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0),I("Error Ending Event");case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),ne=function(e){Y(e)},ae=function(){var e=A(E().mark((function e(){var t;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.A.send("RemoveFromRace",{id:F.id,alias:z});case 3:return e.next=5,e.sent.json();case 5:t=e.sent,I(t?"".concat(z," Removed From Event"):"Unable to Remove From Event"),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0),I("Error Removing From Event");case 13:Y(null);case 14:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),oe=function(){var e=A(E().mark((function e(t){var r;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,y.A.send("SendInvite",{id:F.id,alias:t.target.alias.value});case 4:return e.next=6,e.sent.json();case 6:r=e.sent,I(r?"Event Invite Sent":"Unable to Send Invite"),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),console.error(e.t0),I("Error Sending Invite");case 14:K(!1);case 15:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}();return n.createElement(n.Fragment,null,Boolean(L)&&"police"!==j?n.createElement(n.Fragment,null,W&&F&&U?n.createElement("div",{className:C.content},n.createElement(o.A,{className:C.closeButton,onClick:x},n.createElement(p.g,{icon:["fas","times"]})),n.createElement("div",{className:C.header},n.createElement("span",null,"Event #",F.id," Details")),n.createElement("div",{className:C.flexContainer},n.createElement("div",{className:C.detailsContainer},n.createElement("div",{className:C.actionButtons},(null==F?void 0:F.host_id)===R&&0===F.state&&n.createElement(n.Fragment,null,n.createElement(i.A,{title:"Start Race"},n.createElement(o.A,{className:"".concat(C.actionButton," start"),onClick:te},n.createElement(p.g,{icon:m.ijD}))),n.createElement(i.A,{title:"Cancel Race"},n.createElement(o.A,{className:"".concat(C.actionButton," cancel"),onClick:ee},n.createElement(p.g,{icon:["fas","times"]}))),"invite"===F.access&&n.createElement(i.A,{title:"Invite Racer"},n.createElement(o.A,{className:"".concat(C.actionButton," invite"),onClick:function(){return K(!0)}},n.createElement(p.g,{icon:m.nWR})))),(null==F?void 0:F.host_id)===R&&0!==F.state&&2!==F.state&&n.createElement(i.A,{title:"End Race"},n.createElement(o.A,{className:"".concat(C.actionButton," cancel"),onClick:re},n.createElement(p.g,{icon:m.o9H}))),(0===(null==F?void 0:F.state)||1===(null==F?void 0:F.state))&&F.racers[L]&&n.createElement(i.A,{title:"Leave Race"},n.createElement(o.A,{className:"".concat(C.actionButton," leave"),onClick:Z},n.createElement(p.g,{icon:m.GxD}))),!O&&0===(null==F?void 0:F.state)&&!F.racers[L]&&"public"===F.access&&n.createElement(i.A,{title:"Join Race"},n.createElement(o.A,{className:"".concat(C.actionButton," join"),onClick:Q},n.createElement(p.g,{icon:m.rhE})))),n.createElement("div",{className:C.item},n.createElement("div",{className:C.label},n.createElement(p.g,{icon:["far","user"]}),"Host:"),n.createElement("div",{className:"".concat(C.value," clickable"),onClick:function(){return e=F.host,void(k&&k(e));var e}},F.host)),n.createElement("div",{className:C.item},n.createElement("div",{className:C.label},n.createElement(p.g,{icon:["far","flag"]}),"State:"),n.createElement("div",{className:C.value},-1===F.state?"Cancelled":0===F.state?"Setting Up":1===F.state?"In Progress":2===F.state?"Finished":"Unknown")),n.createElement("div",{className:C.item},n.createElement("div",{className:C.label},n.createElement(p.g,{icon:["far","money-bill-alt"]}),"Buy In:"),n.createElement("div",{className:C.value},F.buyin>0?b.v3.format(F.buyin):"None")),n.createElement("div",{className:C.item},n.createElement("div",{className:C.label},n.createElement(p.g,{icon:["far","map"]}),"Track:"),n.createElement("div",{className:"".concat(C.value," clickable"),onClick:function(){return F.id,void I("Track viewing not implemented in tab system")}},null==U?void 0:U.Name," (",null==U?void 0:U.Distance,")")),n.createElement("div",{className:C.item},n.createElement("div",{className:C.label},n.createElement(p.g,{icon:["far","redo"]}),"Laps:"),n.createElement("div",{className:C.value},F.laps)),n.createElement("div",{className:C.item},n.createElement("div",{className:C.label},n.createElement(p.g,{icon:["far","ghost"]}),"Phasing:"),n.createElement("div",{className:C.value},_?_.label:"Disabled"))),n.createElement("div",{className:C.racersContainer},n.createElement("div",{className:C.sectionLabel},"Racers"),n.createElement("div",{className:C.racersInner},Object.keys(F.racers).length>0?2===F.state?n.createElement(l.A,{style:{listStyle:"none"}},Object.keys(F.racers).filter((function(e){return F.racers[e].finished})).length>0&&n.createElement(n.Fragment,null,n.createElement(c.Ay,null,n.createElement("div",{className:C.sectionLabel},"Podium")),Object.keys(F.racers).filter((function(e){return F.racers[e].finished})).sort((function(e,t){return F.racers[e].place-F.racers[t].place})).slice(0,3).map((function(e){return n.createElement(v.default,{key:e,name:e,sid:R,race:F,track:U,racer:F.racers[e],onWinnings:$,onViewProfile:k})}))),Object.keys(F.racers).filter((function(e){return F.racers[e].finished&&F.racers[e].place>3})).length>0&&n.createElement(n.Fragment,null,n.createElement(c.Ay,null,n.createElement("div",{className:C.sectionLabel},"Other Racers")),Object.keys(F.racers).filter((function(e){return F.racers[e].finished&&F.racers[e].place>3})).sort((function(e,t){return F.racers[e].place-F.racers[t].place})).map((function(e){return n.createElement(v.default,{key:e,name:e,race:F,track:U,racer:F.racers[e],onWinnings:$,onViewProfile:k})}))),Object.keys(F.racers).filter((function(e){return!F.racers[e].finished})).length>0&&n.createElement(n.Fragment,null,n.createElement(c.Ay,null,n.createElement("div",{className:C.sectionLabel},"DNF'd")),Object.keys(F.racers).filter((function(e){return!F.racers[e].finished})).map((function(e){return n.createElement(v.default,{key:e,name:e,race:F,track:U,racer:F.racers[e],onWinnings:$,onViewProfile:k})})))):Object.keys(F.racers).map((function(e){return n.createElement(v.default,{key:e,name:e,race:F,track:U,racer:F.racers[e],onRemove:ne,onViewProfile:k})})):n.createElement("div",{className:C.noracers},"No Racers Signed Up")))),z&&n.createElement(g.pT,{title:"Remove ".concat(z," From Event?"),open:Boolean(z),confirm:"Yes",decline:"No",onConfirm:ae,onDecline:function(){return Y(null)}}),q&&n.createElement(g.aF,{open:Boolean(q),title:"".concat(q.name," Winnings"),onClose:function(){return $(null)}},n.createElement(l.A,{className:C.winningsBody},(null==q||null===(t=q.reward)||void 0===t?void 0:t.cash)&&n.createElement(c.Ay,null,n.createElement(s.A,{primary:"Cash",secondary:"$".concat(q.reward.cash)})),(null==q||null===(r=q.reward)||void 0===r?void 0:r.crypto)&&n.createElement(c.Ay,null,n.createElement(s.A,{primary:"Crypto",secondary:"".concat(q.reward.crypto," $").concat(q.reward.coin)})))),X&&n.createElement(g.aF,{form:!0,open:X,title:"Invite Racer To Event",submitLang:"Send Invite",onAccept:oe,onClose:function(){return K(!1)}},n.createElement(u.A,{fullWidth:!0,autoFocus:!0,required:!0,label:"Alias",name:"alias",color:"secondary",inputProps:{maxLength:32},variant:"outlined",className:C.creatorInput}))):n.createElement(g.aH,{static:!0,text:"Loading Race Data"})):n.createElement(f.A,{className:C.noRaces},L?"Unauthorized: On Duty":"Please Set Up Profile"))}},24787:(e,t,r)=>{r.r(t),r.d(t,{default:()=>g});var n=r(2759),a=r(78974),o=r(63054),i=r(29404),l=r(81147),c=r(74822),s=r(66038),u=r(44454),f=r(44877),d=r(38783),p=r(55263),m=r.n(p),h=(0,a.A)((function(e){return{race:{display:"flex",fontFamily:'"Segoe UI", Tahoma, Geneva, Verdana, sans-serif',borderRadius:"12px",padding:"12px 16px",margin:"8px 0",background:"rgba(134, 133, 239, 0.1)",transition:"all 0.2s ease",alignItems:"center",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)","&:hover":{background:"rgba(134, 133, 239, 0.2)",transform:"translateY(-2px)",boxShadow:"0 4px 12px rgba(134, 133, 239, 0.2)"}},placing:{width:40,height:40,display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"8px",background:"rgba(134, 133, 239, 0.15)",marginRight:"12px","& span":{fontFamily:'"Segoe UI", Tahoma, Geneva, Verdana, sans-serif',color:"#8685EF",fontSize:18,fontWeight:"bold"},"&.first":{background:"rgba(255, 215, 0, 0.2)","& span":{color:"#FFD700"}},"&.second":{background:"rgba(192, 192, 192, 0.2)","& span":{color:"#C0C0C0"}},"&.third":{background:"rgba(205, 127, 50, 0.2)","& span":{color:"#CD7F32"}}},label:{flexGrow:1,maxWidth:"calc(100% - 150px)",width:"100%","& .MuiListItemText-primary":{color:"white",fontWeight:"500",fontSize:"16px"},"& .MuiListItemText-secondary":{color:"rgba(255, 255, 255, 0.7)",fontSize:"14px"}},avatar:{width:40,height:40,cursor:"pointer",borderRadius:"8px",border:"2px solid rgba(134, 133, 239, 0.3)",transition:"all 0.2s ease","&:hover":{borderColor:"#8685EF",transform:"scale(1.05)"}},action:{fontSize:18,color:"white",backgroundColor:"rgba(134, 133, 239, 0.2)",border:"1px solid rgba(134, 133, 239, 0.3)",transition:"all 0.2s ease",width:"36px",height:"36px","&:hover":{backgroundColor:"rgba(134, 133, 239, 0.3)",transform:"scale(1.05)"},"&:not(:last-of-type)":{marginRight:8},"&.remove":{backgroundColor:"rgba(255, 107, 107, 0.2)",border:"1px solid rgba(255, 107, 107, 0.3)",color:"#ff6b6b","&:hover":{backgroundColor:"rgba(255, 107, 107, 0.3)"}},"&.reward":{backgroundColor:"rgba(255, 212, 59, 0.2)",border:"1px solid rgba(255, 212, 59, 0.3)",color:"#ffd43b","&:hover":{backgroundColor:"rgba(255, 212, 59, 0.3)"}}}}}));const g=function(e){var t=e.race,r=e.name,a=e.racer,p=e.onRemove,g=void 0===p?null:p,b=e.onWinnings,v=void 0===b?null:b,y=e.onViewProfile,w=h(),x=(0,d.d4)((function(e){return e.data.data.player})),E=a.picture||"",k=function(){y(r,a.sid)};if(!(a&&r&&t&&x))return null;var A=1===a.place?"first":2===a.place?"second":3===a.place?"third":"";if(a.finished){var S,C,N=m().duration((null===(S=a.fastest)||void 0===S?void 0:S.lap_end)-(null===(C=a.fastest)||void 0===C?void 0:C.lap_start));return n.createElement(i.Ay,{className:w.race},n.createElement("div",{className:"".concat(w.placing," ").concat(A)},n.createElement("span",null,a.place?"#".concat(a.place):"DNF")),n.createElement(l.A,null,n.createElement(c.A,{src:E,className:w.avatar,onClick:k,"aria-label":"View profile",variant:"square"})),n.createElement(s.A,{className:w.label,primary:r,secondary:a.fastest?n.createElement("span",null,"Fastest Lap:"," ","".concat(String(N.hours()).padStart(2,"0"),":").concat(String(N.minutes()).padStart(2,"0"),":").concat(String(N.seconds()).padStart(2,"0"),":").concat(String(N.milliseconds()).padStart(3,"0"))):"No lap time"}),n.createElement(u.A,null,a.reward&&v&&n.createElement(f.A,{className:"".concat(w.action," reward"),onClick:function(){return v({name:r,event:t.name,reward:a.reward})},"aria-label":"View winnings"},n.createElement(o.g,{icon:["fas","dollar"]}))))}return n.createElement(i.Ay,{className:w.race},n.createElement("div",{className:w.placing},n.createElement("span",null,"-")),n.createElement(l.A,null,n.createElement(c.A,{src:E,className:w.avatar,onClick:k,"aria-label":"View profile",variant:"square"})),n.createElement(s.A,{className:w.label,primary:r}),n.createElement(u.A,null,g&&t.host_id===x.SID&&a.sid!==x.SID&&n.createElement(f.A,{className:"".concat(w.action," remove"),onClick:function(){return g(r)},"aria-label":"Remove racer"},n.createElement(o.g,{icon:["fas","x"]}))))}},44357:(e,t,r)=>{r.r(t),r.d(t,{AccessTypes:()=>k,GhostTypes:()=>A,TrackTypes:()=>E,default:()=>T});var n=r(2759),a=r(78974),o=r(92880),i=r(39822),l=r(2803),c=r(63054),s=r(54088),u=r(43943),f=r(50225),d=r(60101),p=r(64023),m=r(58680),h=r(7370),g=r(91230);function b(){return b=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},b.apply(null,arguments)}function v(e){return function(e){if(Array.isArray(e))return x(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||w(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,l=[],c=!0,s=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}(e,t)||w(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){if(e){if("string"==typeof e)return x(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?x(e,t):void 0}}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var E={laps:"Laps",p2p:"Point to Point"},k=[{value:"public",label:"Public Join",disabled:!1},{value:"team",label:"Team Only",disabled:!0},{value:"invite",label:"Invite Only",disabled:!1}],A=[{value:"none",label:"No Phasing"},{value:"timed",label:"Ghosted For Period of Time"},{value:"checkpoints",label:"Ghosted For # of Checkpoints"}],S=(0,a.A)((function(e){return{wrapper:{height:"100%",width:"100%",background:"#1a1a2e",display:"flex",flexDirection:"row",fontFamily:'"Segoe UI", Tahoma, Geneva, Verdana, sans-serif'},header:{background:"#242447",width:140,height:"100%",display:"flex",flexDirection:"column",justifyContent:"flex-start",alignItems:"center",padding:"20px 0",order:1,borderRight:"2px solid #8685EF"},content:{height:"100%",width:"calc(100% - 140px)",overflow:"hidden",order:2,background:"#16213e"},tabPanel:{height:"100%",width:"100%",padding:"20px",boxSizing:"border-box"},"@global":{".MuiMenu-paper":{backgroundColor:"#1a1a2e !important",border:"1px solid rgba(134, 133, 239, 0.3) !important",borderRadius:"8px !important",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.3) !important",marginTop:"4px !important",padding:"6px !important"},".MuiMenuItem-root":{color:"white !important",fontSize:"14px !important",padding:"10px 16px !important",borderRadius:"4px !important",margin:"2px 0 !important",transition:"all 0.2s ease !important","&:hover":{backgroundColor:"rgba(134, 133, 239, 0.2) !important"},"&.Mui-selected":{backgroundColor:"rgba(134, 133, 239, 0.3) !important",color:"#8685EF !important",fontWeight:"500 !important","&:hover":{backgroundColor:"rgba(134, 133, 239, 0.4) !important"}}}}}})),C=(0,o.A)((function(e){return{root:{border:"none",width:"100%"},indicator:{backgroundColor:"#8685EF",right:0,width:"4px",borderRadius:"2px 0 0 2px"}}}))((function(e){return n.createElement(i.A,e)})),N=(0,o.A)((function(e){return{root:{minWidth:"auto",padding:"16px 20px",margin:"4px 8px",borderRadius:"8px",color:"rgba(255, 255, 255, 0.7)",fontSize:"0.875rem",fontWeight:"500",textTransform:"none",transition:"all 0.2s ease",willChange:"transform, background-color, color","&:hover":{color:"#8685EF",backgroundColor:"rgba(134, 133, 239, 0.15)",transform:"translateX(4px)"},"&$selected":{color:"#ffffff",backgroundColor:"rgba(134, 133, 239, 0.25)",fontWeight:"600",transform:"translateX(6px)"},"&:focus":{color:"#8685EF"},"& .MuiTab-wrapper":{flexDirection:"row",justifyContent:"flex-start",alignItems:"center",gap:"12px"},"& svg":{fontSize:"1.1rem"}},selected:{},disabled:{color:"rgba(255, 255, 255, 0.3) !important",backgroundColor:"rgba(255, 255, 255, 0.05)"}}}))((function(e){return n.createElement(l.A,e)})),I=[{label:"Home",icon:["fas","home"],component:s.default},{label:"Invites",icon:["fas","user-friends"],component:u.default},{label:"History",icon:["fas","history"],component:f.default},{label:"Tracks",icon:["fas","flag-checkered"],component:d.default},{label:"New",icon:["fas","plus"],component:p.default},{label:"Admin",icon:["fas","cog"],component:m.default}];const T=function(){var e=S(),t=y((0,n.useState)(0),2),r=t[0],a=t[1],o=y((0,n.useState)([]),2),i=o[0],l=o[1],s=function(e){var t=function(){l([]),a(0)};l([{label:"Race View",icon:["fas","eye"],component:function(){return n.createElement(h.default,{id:e,onClose:t,onViewProfile:u})}}]),a(I.length)},u=function(e,t){var r=function(){l([]),a(0)};l([{label:"Profile View",icon:["fas","eye"],component:function(){return n.createElement(g.default,{alias:e,racerSID:t,onClose:r,onViewRace:s})}}]),a(I.length)},f=[].concat(I,v(i));return n.createElement("div",{className:e.wrapper},n.createElement("div",{className:e.header},n.createElement(C,{value:r,onChange:function(e,t){a(t)},scrollButtons:!1,orientation:"vertical"},f.map((function(e){return n.createElement(N,{key:e.label,icon:n.createElement(c.g,{icon:e.icon}),label:e.label})})))),n.createElement("div",{className:e.content},f.map((function(t,a){return n.createElement("div",{key:t.label,className:e.tabPanel,role:"tabpanel",hidden:r!==a,id:t.label.toLowerCase().replace(" ","-")},r===a&&n.createElement(t.component,b({},"Home"===t.label?{onViewRace:s,onViewProfile:u}:{},"Invites"===t.label||"New"===t.label?{onViewRace:s}:{},"History"===t.label?{onViewRace:s,onViewProfile:u}:{},"Tracks"===t.label?{onViewProfile:u}:{},"View"===t.label?{onViewProfile:u}:{})))}))))}},50225:(e,t,r)=>{r.r(t),r.d(t,{TrackTypes:()=>u,default:()=>d});var n=r(2759),a=r(38783),o=r(51112),i=r(78974),l=r(90536),c=r(2360),s=r(80693),u={laps:"Laps",p2p:"Point to Point"},f=(0,i.A)((function(e){return{wrapper:{height:"100%",background:"#16213e",overflowY:"auto"},content:{height:"87%",display:"flex",flexDirection:"column",fontFamily:'"Segoe UI", Tahoma, Geneva, Verdana, sans-serif',justifyContent:"flex-start",alignItems:"center",overflowY:"auto",overflowX:"hidden","&::-webkit-scrollbar":{width:6},"&::-webkit-scrollbar-thumb":{background:"rgba(134, 133, 239, 0.4)",borderRadius:"3px"},"&::-webkit-scrollbar-thumb:hover":{background:"#8685EF"},"&::-webkit-scrollbar-track":{background:"transparent"}},user:{width:"100%",padding:"20px",fontFamily:'"Segoe UI", Tahoma, Geneva, Verdana, sans-serif',fontSize:24,fontWeight:"600",borderBottom:"2px solid rgba(134, 133, 239, 0.3)",background:"rgba(134, 133, 239, 0.1)",color:"white","& span":{color:"#8685EF",fontWeight:"bold"}},noRaces:{width:"100%",textAlign:"center",fontSize:18,fontWeight:"500",marginTop:"25%",color:"rgba(255, 255, 255, 0.7)",fontFamily:'"Segoe UI", Tahoma, Geneva, Verdana, sans-serif'}}}));const d=function(e){var t=e.onViewRace,r=f(),i=(0,a.d4)((function(e){return e.data.data.onDuty})),u=((0,a.d4)((function(e){return e.data.data.player.SID})),(0,a.d4)((function(e){var t;return null===(t=e.data.data.player)||void 0===t||null===(t=t.Profiles)||void 0===t?void 0:t.redline}))),d=(0,a.d4)((function(e){return e.data.data.tracks})),p=(0,a.d4)((function(e){return e.race.races})),m=Object.keys(p).reduce((function(e,t){return!d.find((function(e){return e.id===p[t].track}))||-1!==p[t].state&&2!==p[t].state||e.push(p[t]),e}),[]).sort((function(e,t){return t.time-e.time}));return n.createElement("div",{className:r.wrapper},Boolean(u)&&"police"!==i?n.createElement(n.Fragment,null,n.createElement("div",{className:r.user},"HISTORY"),n.createElement("div",{className:r.content},m.length>0?m.map((function(e,r){var a=d.find((function(t){return t.id===e.track}));return n.createElement(s.default,{key:"recent-".concat(r),track:a,race:e,onViewRace:t})})):n.createElement(o.A,{className:r.noRaces},"No Recent Races"))):u?n.createElement(c.default,null):n.createElement(l.default,null))}},54088:(e,t,r)=>{r.r(t),r.d(t,{default:()=>p});var n=r(2759),a=r(38783),o=r(78974),i=r(44877),l=r(74822),c=r(51112),s=r(90536),u=r(2360),f=r(80693),d=(0,o.A)((function(e){return{wrapper:{position:"relative",height:"100%",background:"#16213e",overflow:"auto"},body:{padding:10,height:"100%"},content:{height:"92%",width:"100%",display:"flex",flexDirection:"column",justifyContent:"flex-start",alignItems:"center",overflowY:"auto",overflowX:"hidden","&::-webkit-scrollbar":{width:6},"&::-webkit-scrollbar-thumb":{background:"rgba(134, 133, 239, 0.4)",borderRadius:"3px"},"&::-webkit-scrollbar-thumb:hover":{background:"#8685EF"},"&::-webkit-scrollbar-track":{background:"transparent"}},header:{width:"100%",padding:"20px",fontFamily:'"Segoe UI", Tahoma, Geneva, Verdana, sans-serif',fontSize:20,textAlign:"center",color:"white",fontWeight:"600"},user:{width:"100%",padding:"20px",fontFamily:'"Segoe UI", Tahoma, Geneva, Verdana, sans-serif',fontSize:20,fontWeight:"500",borderBottom:"2px solid rgba(134, 133, 239, 0.3)",background:"rgba(134, 133, 239, 0.1)",color:"white","& span":{color:"#8685EF",fontWeight:"bold"}},userProfile:{position:"absolute",top:15,right:20},profileButton:{background:"rgba(134, 133, 239, 0.2)",border:"2px solid rgba(134, 133, 239, 0.3)",borderRadius:"8px",transition:"all 0.2s ease",padding:"2px","&:hover":{background:"rgba(134, 133, 239, 0.3)",transform:"scale(1.05)"},"&:focus":{outline:"none",boxShadow:"0 0 0 2px rgba(134, 133, 239, 0.5)"}},noRaces:{width:"100%",textAlign:"center",fontSize:18,fontWeight:"500",marginTop:"25%",color:"rgba(255, 255, 255, 0.7)",fontFamily:'"Segoe UI", Tahoma, Geneva, Verdana, sans-serif'},invCount:{position:"absolute",fontSize:12,bottom:0,right:0,zIndex:10,background:"#8685EF",color:"white",padding:"2px 6px",borderRadius:20}}}));const p=function(e){var t=e.onViewRace,r=e.onViewProfile,o=d(),p=(0,a.d4)((function(e){return e.data.data.onDuty})),m=(0,a.d4)((function(e){return e.data.data.player.SID})),h=(0,a.d4)((function(e){var t;return null===(t=e.data.data.player)||void 0===t||null===(t=t.Profiles)||void 0===t?void 0:t.redline})),g=(0,a.d4)((function(e){return e.data.data.tracks})),b=(0,a.d4)((function(e){return e.race.races})),v=Object.keys(b).reduce((function(e,t){return-1!=b[t].state&&2!=b[t].state&&e.push(b[t]),e}),[]).sort((function(e,t){return t.time-e.time}));return n.createElement("div",{className:o.wrapper},Boolean(h)&&"police"!==p?n.createElement(n.Fragment,null,n.createElement("div",{className:o.user},"Welcome Back ",n.createElement("span",null,null==h?void 0:h.name)),n.createElement("div",{className:o.userProfile},n.createElement(i.A,{className:o.profileButton,onClick:function(){return r(null==h?void 0:h.name,m)}},n.createElement(l.A,{src:(null==h?void 0:h.picture)||"",alt:(null==h?void 0:h.name)||"Profile",sx:{width:40,height:40,borderRadius:"6px"}}))),n.createElement("div",{className:o.content},n.createElement("div",{className:o.header},"Pending Races"),v.length>0?v.map((function(e,r){var a=g.find((function(t){return t.id===e.track}));return n.createElement(f.default,{key:"pending-".concat(r),track:a,race:e,onViewRace:t})})):n.createElement(c.A,{className:o.noRaces},"No pending races available."))):h?n.createElement(u.default,null):n.createElement(s.default,null))}},58680:(e,t,r)=>{r.r(t),r.d(t,{default:()=>P});var n=r(2759),a=r(38783),o=r(44877),i=r(18170),l=r(29011),c=r(51112),s=r(90561),u=r(65787),f=r(29404),d=r(66038),p=r(31136),m=r(15608),h=r(47223),g=r(14070),b=r(2224),v=r(78974),y=r(63054),w=r(87995),x=r(60043),E=r(61145),k=r(44357);function A(e){return A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},A(e)}function S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function C(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?S(Object(r),!0).forEach((function(t){N(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function N(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=A(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=A(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==A(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function I(){I=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var o=t&&t.prototype instanceof b?t:b,i=Object.create(o.prototype),l=new L(n||[]);return a(i,"_invoke",{value:N(e,r,l)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var d="suspendedStart",p="suspendedYield",m="executing",h="completed",g={};function b(){}function v(){}function y(){}var w={};s(w,i,(function(){return this}));var x=Object.getPrototypeOf,E=x&&x(x(O([])));E&&E!==r&&n.call(E,i)&&(w=E);var k=y.prototype=b.prototype=Object.create(w);function S(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function C(e,t){function r(a,o,i,l){var c=f(e[a],e,o);if("throw"!==c.type){var s=c.arg,u=s.value;return u&&"object"==A(u)&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,i,l)}),(function(e){r("throw",e,i,l)})):t.resolve(u).then((function(e){s.value=e,i(s)}),(function(e){return r("throw",e,i,l)}))}l(c.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,a){r(e,n,t,a)}))}return o=o?o.then(a,a):a()}})}function N(t,r,n){var a=d;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var l=n.delegate;if(l){var c=T(l,n);if(c){if(c===g)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===d)throw a=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var s=f(t,r,n);if("normal"===s.type){if(a=n.done?h:p,s.arg===g)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(a=h,n.method="throw",n.arg=s.arg)}}}function T(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,T(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),g;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,g;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,g):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,g)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function R(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function O(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(A(t)+" is not iterable")}return v.prototype=y,a(k,"constructor",{value:y,configurable:!0}),a(y,"constructor",{value:v,configurable:!0}),v.displayName=s(y,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,s(e,c,"GeneratorFunction")),e.prototype=Object.create(k),e},t.awrap=function(e){return{__await:e}},S(C.prototype),s(C.prototype,l,(function(){return this})),t.AsyncIterator=C,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new C(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},S(k),s(k,c,"Generator"),s(k,i,(function(){return this})),s(k,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=O,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(R),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return l.type="throw",l.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),R(r),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;R(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:O(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),g}},t}function T(e,t,r,n,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void r(e)}l.done?t(c):Promise.resolve(c).then(n,a)}function j(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){T(o,n,a,i,l,"next",e)}function l(e){T(o,n,a,i,l,"throw",e)}i(void 0)}))}}function R(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,l=[],c=!0,s=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return L(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?L(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var O=(0,v.A)((function(e){return{wrapper:{height:"100%",background:"#16213e",overflowY:"auto",padding:10},heading:{fontSize:"16px",flexBasis:"33.33%",flexShrink:0,color:"white",fontWeight:"600",fontFamily:'"Segoe UI", Tahoma, Geneva, Verdana, sans-serif'},secondaryHeading:{fontSize:"14px",color:"rgba(255, 255, 255, 0.7)",fontFamily:'"Segoe UI", Tahoma, Geneva, Verdana, sans-serif'},details:{"& h3":{color:"#8685EF"}},detailsList:{padding:10},buttons:{width:"100%",display:"flex",margin:"auto",gap:10},button:{width:"-webkit-fill-available",padding:20,color:"#ffd43b",borderRadius:"8px",transition:"all 0.2s ease","&:hover":{backgroundColor:"rgba(255, 212, 59, 0.1)",transform:"translateY(-1px)"},"&:focus":{outline:"none",boxShadow:"0 0 0 2px rgba(255, 212, 59, 0.3)"}},buttonNegative:{width:"-webkit-fill-available",padding:20,color:"#ff6b6b",borderRadius:"8px",transition:"all 0.2s ease","&:hover":{backgroundColor:"rgba(255, 107, 107, 0.1)",transform:"translateY(-1px)"},"&:focus":{outline:"none",boxShadow:"0 0 0 2px rgba(255, 107, 107, 0.3)"}},buttonPositive:{width:"-webkit-fill-available",padding:20,color:"#51cf66",borderRadius:"8px",transition:"all 0.2s ease","&:hover":{backgroundColor:"rgba(81, 207, 102, 0.1)",transform:"translateY(-1px)"},"&:focus":{outline:"none",boxShadow:"0 0 0 2px rgba(81, 207, 102, 0.3)"}},creatorInput:{marginBottom:16,"& .MuiOutlinedInput-root":{borderRadius:"8px",backgroundColor:"rgba(255, 255, 255, 0.05)","& fieldset":{borderColor:"rgba(134, 133, 239, 0.3)",transition:"border-color 0.2s ease"},"&:hover fieldset":{borderColor:"rgba(134, 133, 239, 0.5)"},"&.Mui-focused fieldset":{borderColor:"#8685EF",boxShadow:"0 0 0 1px rgba(134, 133, 239, 0.2)"}},"& .MuiInputLabel-root":{color:"rgba(255, 255, 255, 0.7)","&.Mui-focused":{color:"#8685EF"}},"& .MuiInputBase-input":{color:"white"},"& .MuiSelect-icon":{color:"rgba(255, 255, 255, 0.7)"},"& .MuiMenu-paper":{backgroundColor:"#1a1a2e",border:"1px solid rgba(134, 133, 239, 0.3)",borderRadius:"8px",marginTop:"4px"}},track:{background:"rgba(134, 133, 239, 0.1)",border:"1px solid rgba(134, 133, 239, 0.2)",borderRadius:"12px",margin:"8px 0",transition:"all 0.2s ease","&:hover":{background:"rgba(134, 133, 239, 0.15)",transform:"translateY(-1px)"},"&.Mui-expanded":{background:"rgba(134, 133, 239, 0.2)"}},actionBar:{padding:"16px 20px",borderBottom:"2px solid rgba(134, 133, 239, 0.3)",background:"rgba(134, 133, 239, 0.1)",display:"flex",gap:12,borderRadius:"8px 8px 0 0",marginBottom:"16px"},actionButton:{width:"48px",height:"48px",borderRadius:"12px",color:"white",backgroundColor:"rgba(134, 133, 239, 0.2)",border:"1px solid rgba(134, 133, 239, 0.3)",transition:"all 0.2s ease","&:hover":{backgroundColor:"rgba(134, 133, 239, 0.3)",transform:"scale(1.05)"},"&:focus":{outline:"none",boxShadow:"0 0 0 2px rgba(134, 133, 239, 0.5)"},"&.active":{backgroundColor:"#8685EF",color:"white"}},noRaces:{width:"100%",textAlign:"center",fontSize:18,fontWeight:"500",marginTop:"25%",color:"rgba(255, 255, 255, 0.7)",fontFamily:'"Segoe UI", Tahoma, Geneva, Verdana, sans-serif'},menuItem:{color:"white",fontSize:"14px",padding:"10px 16px",transition:"all 0.2s ease","&:hover":{backgroundColor:"rgba(134, 133, 239, 0.2)"},"&.Mui-selected":{backgroundColor:"rgba(134, 133, 239, 0.3)",color:"#8685EF",fontWeight:"500","&:hover":{backgroundColor:"rgba(134, 133, 239, 0.4)"}}}}}));const P=function(){var e=O(),t=(0,a.wA)(),r=(0,w.MW)(),v=(0,a.d4)((function(e){return e.data.data.tracks})),A=(0,a.d4)((function(e){return e.race.creator})),S=(0,a.d4)((function(e){return e.data.data.onDuty})),T=(0,a.d4)((function(e){var t;return null===(t=e.data.data.player)||void 0===t||null===(t=t.Profiles)||void 0===t?void 0:t.redline})),L=R((0,n.useState)(null),2),P=L[0],F=L[1],_=R((0,n.useState)(!1),2),D=_[0],W=_[1],G=R((0,n.useState)(null),2),B=G[0],U=G[1],V=R((0,n.useState)(null),2),M=V[0],z=V[1],Y=R((0,n.useState)({name:"",type:"laps"}),2),H=Y[0],q=Y[1],$=function(){var e=j(I().mark((function e(){var n;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.A.send("CreateTrack");case 3:return e.next=5,e.sent.json();case 5:n=e.sent,r(n?"Creator Started":"Unable to Start Creator"),n&&t({type:"RACE_STATE_CHANGE",payload:{state:{checkpoints:0,distance:0,type:"lap"}}}),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0),r("Unable to Start Creator");case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),J=function(){var e=j(I().mark((function e(){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.A.send("StopCreator");case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.error(e.t0);case 8:t({type:"RACE_STATE_CHANGE",payload:{state:null}});case 9:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}(),X=function(){var e=j(I().mark((function e(t){var n,a,o;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n=H.name,a=H.type,n&&a){e.next=5;break}return r("Please fill out all fields"),e.abrupt("return");case 5:return e.prev=5,e.next=8,x.A.send("FinishCreator",{name:n,type:a});case 8:return e.next=10,e.sent.json();case 10:o=e.sent,r(o?"Track Created":"Unable to Create Track"),W(!1),q({name:"",type:"laps"}),e.next=21;break;case 16:e.prev=16,e.t0=e.catch(5),console.error(e.t0),r("Unable to Create Track"),W(!1);case 21:case"end":return e.stop()}}),e,null,[[5,16]])})));return function(t){return e.apply(this,arguments)}}(),K=function(){var e=j(I().mark((function e(){var t;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.A.send("DeleteTrack",B);case 3:return e.next=5,e.sent.json();case 5:t=e.sent,U(null),F(null),r(t?"Track Deleted":"Unable to Delete Track"),e.next=17;break;case 11:e.prev=11,e.t0=e.catch(0),console.error(e.t0),U(null),F(null),r("Unable to Delete Track");case 17:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),Q=function(){var e=j(I().mark((function e(){var t;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.A.send("ResetTrackHistory",M);case 3:return e.next=5,e.sent.json();case 5:t=e.sent,z(null),r(t?"Track History Reset":"Unable to Reset Track History"),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0),z(null),r("Unable to Reset Track History");case 15:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),Z=function(e){var t=e.target,r=t.name,n=t.value;q((function(e){return C(C({},e),{},N({},r,n))}))};return n.createElement("div",{className:e.wrapper},Boolean(T)&&"police"!==S?n.createElement(n.Fragment,null,n.createElement("div",{className:e.actionBar},A?n.createElement(n.Fragment,null,n.createElement(o.A,{className:e.actionButton,onClick:J,"aria-label":"Cancel"},n.createElement(y.g,{icon:["far","xmark"]})),n.createElement(o.A,{className:"".concat(e.actionButton," active"),onClick:function(){return W(!0)},"aria-label":"Save"},n.createElement(y.g,{icon:["far","floppy-disk"]}))):n.createElement(o.A,{className:e.actionButton,onClick:$,"aria-label":"Create Track"},n.createElement(y.g,{icon:["far","plus"]}))),v.map((function(t,r){return n.createElement(i.A,{key:"track-".concat(r),className:e.track,expanded:P===r,onChange:function(){return F(P===r?null:r)}},n.createElement(l.A,{expandIcon:n.createElement(y.g,{icon:["fas","chevron-down"],style:{color:"#8685EF"}})},n.createElement(c.A,{className:e.heading},t.Name),n.createElement(c.A,{className:e.secondaryHeading},t.Distance)),n.createElement(s.A,null,n.createElement(u.A,null,n.createElement(f.Ay,null,n.createElement(d.A,{primary:"Name",secondary:t.Name,primaryTypographyProps:{style:{color:"#8685EF",fontWeight:"600"}},secondaryTypographyProps:{style:{color:"white"}}})),n.createElement(f.Ay,null,n.createElement(d.A,{primary:"Type",secondary:k.TrackTypes[t.Type],primaryTypographyProps:{style:{color:"#8685EF",fontWeight:"600"}},secondaryTypographyProps:{style:{color:"white"}}})),n.createElement(f.Ay,null,n.createElement(d.A,{primary:"Distance",secondary:t.Distance,primaryTypographyProps:{style:{color:"#8685EF",fontWeight:"600"}},secondaryTypographyProps:{style:{color:"white"}}})))),n.createElement(p.A,{style:{backgroundColor:"rgba(134, 133, 239, 0.3)"}}),n.createElement(m.A,null,n.createElement(h.A,{size:"small",className:e.button,onClick:function(){return z(t.id)}},"Reset Lap History"),n.createElement(h.A,{size:"small",className:e.buttonNegative,onClick:function(){return U(t.id)}},"Delete Track")))})),n.createElement(E.pT,{title:"Delete Track?",open:null!=B,confirm:"Yes",decline:"No",onConfirm:K,onDecline:function(){return U(null)}}),n.createElement(E.pT,{title:"Reset Track History?",open:null!=M,confirm:"Yes",decline:"No",onConfirm:Q,onDecline:function(){return z(null)}}),n.createElement(E.aF,{form:!0,open:D,title:"Create New Track",onClose:function(){return W(!1)},onAccept:X,submitLang:"Save Track",closeLang:"Cancel"},n.createElement(g.A,{className:e.creatorInput,fullWidth:!0,required:!0,label:"Name",name:"name",variant:"outlined",value:H.name,onChange:Z}),n.createElement(g.A,{select:!0,fullWidth:!0,required:!0,variant:"outlined",label:"Type",name:"type",value:H.type,onChange:Z,className:e.creatorInput},Object.keys(k.TrackTypes).map((function(t){return n.createElement(b.A,{key:t,value:t,className:e.menuItem},k.TrackTypes[t])}))))):n.createElement(c.A,{className:e.noRaces},T?"Unauthorized: On Duty":"Please Set Up Profile"))}},64023:(e,t,r)=>{r.r(t),r.d(t,{default:()=>S});var n=r(2759),a=r(88366),o=r(14070),i=r(2224),l=r(41362),c=r(47223),s=r(78974),u=r(38783),f=r(87995),d=r(90536),p=r(2360),m=r(60043),h=r(44357);function g(e){return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g(e)}function b(){b=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var o=t&&t.prototype instanceof y?t:y,i=Object.create(o.prototype),l=new L(n||[]);return a(i,"_invoke",{value:I(e,r,l)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var d="suspendedStart",p="suspendedYield",m="executing",h="completed",v={};function y(){}function w(){}function x(){}var E={};s(E,i,(function(){return this}));var k=Object.getPrototypeOf,A=k&&k(k(O([])));A&&A!==r&&n.call(A,i)&&(E=A);var S=x.prototype=y.prototype=Object.create(E);function C(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function N(e,t){function r(a,o,i,l){var c=f(e[a],e,o);if("throw"!==c.type){var s=c.arg,u=s.value;return u&&"object"==g(u)&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,i,l)}),(function(e){r("throw",e,i,l)})):t.resolve(u).then((function(e){s.value=e,i(s)}),(function(e){return r("throw",e,i,l)}))}l(c.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,a){r(e,n,t,a)}))}return o=o?o.then(a,a):a()}})}function I(t,r,n){var a=d;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var l=n.delegate;if(l){var c=T(l,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===d)throw a=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var s=f(t,r,n);if("normal"===s.type){if(a=n.done?h:p,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(a=h,n.method="throw",n.arg=s.arg)}}}function T(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,T(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,v;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,v):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function R(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function O(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(g(t)+" is not iterable")}return w.prototype=x,a(S,"constructor",{value:x,configurable:!0}),a(x,"constructor",{value:w,configurable:!0}),w.displayName=s(x,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,x):(e.__proto__=x,s(e,c,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},C(N.prototype),s(N.prototype,l,(function(){return this})),t.AsyncIterator=N,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new N(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},C(S),s(S,c,"Generator"),s(S,i,(function(){return this})),s(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=O,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(R),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return l.type="throw",l.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),R(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;R(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:O(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}function v(e,t,r,n,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void r(e)}l.done?t(c):Promise.resolve(c).then(n,a)}function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function w(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach((function(t){x(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function x(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=g(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=g(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==g(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function E(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,l=[],c=!0,s=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return k(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?k(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var A=(0,s.A)((function(e){return{wrapper:{height:"100%",background:"#16213e",overflowY:"auto",padding:16},form:{height:"100%"},formBody:{padding:16},submitButton:{marginTop:16,background:"#8685EF",color:"white",fontWeight:"600",borderRadius:"8px",padding:"12px",transition:"all 0.2s ease","&:hover":{background:"#7674e8",transform:"translateY(-1px)",boxShadow:"0 4px 12px rgba(134, 133, 239, 0.3)"},"&:focus":{outline:"none",boxShadow:"0 0 0 2px rgba(134, 133, 239, 0.5)"}},creatorInput:{marginBottom:5},newInput:{"& .MuiOutlinedInput-root":{borderRadius:"8px",backgroundColor:"rgba(255, 255, 255, 0.05)","& fieldset":{borderColor:"rgba(134, 133, 239, 0.3)",transition:"border-color 0.2s ease"},"&:hover fieldset":{borderColor:"rgba(134, 133, 239, 0.5)"},"&.Mui-focused fieldset":{borderColor:"#8685EF",boxShadow:"0 0 0 1px rgba(134, 133, 239, 0.2)"},"&.Mui-focused":{backgroundColor:"rgba(255, 255, 255, 0.08)"}},"& .MuiInputLabel-root":{color:"rgba(255, 255, 255, 0.7)","&.Mui-focused":{color:"#8685EF"}},"& .MuiInputBase-input":{color:"white"},"& .MuiSelect-icon":{color:"rgba(255, 255, 255, 0.7)"},"& .MuiMenu-paper":{backgroundColor:"#1a1a2e",border:"1px solid rgba(134, 133, 239, 0.3)",borderRadius:"8px"},"& .MuiMenuItem-root":{color:"white",fontSize:"14px",transition:"all 0.2s ease","&:hover":{backgroundColor:"rgba(134, 133, 239, 0.2)"},"&.Mui-selected":{backgroundColor:"rgba(134, 133, 239, 0.3)",color:"#8685EF",fontWeight:"500","&:hover":{backgroundColor:"rgba(134, 133, 239, 0.4)"}}}},menuItem:{color:"white",fontSize:"14px",transition:"all 0.2s ease","&:hover":{backgroundColor:"rgba(134, 133, 239, 0.2)"},"&.Mui-selected":{backgroundColor:"rgba(134, 133, 239, 0.3)",color:"#8685EF",fontWeight:"500","&:hover":{backgroundColor:"rgba(134, 133, 239, 0.4)"}}}}}));const S=function(e){var t,r=e.onViewRace,s=A(),g=(0,f.MW)(),y=(0,u.wA)(),k=(0,u.d4)((function(e){var t;return null===(t=e.data.data.player)||void 0===t||null===(t=t.Profiles)||void 0===t?void 0:t.redline})),S=(0,u.d4)((function(e){return e.race.inRace})),C=(0,u.d4)((function(e){return e.data.data.tracks})),N=(0,u.d4)((function(e){return e.data.data.onDuty})),I=E((0,n.useState)(x(x({name:"",host:null==k?void 0:k.name,buyin:"0",laps:1,dnf_start:"3",dnf_time:"120",countdown:"8",phasing:!1,class:"All",track:C.length>0?C[0].id:null,access:"public"},"phasing","none"),"phasingAdv",0)),2),T=I[0],j=I[1],R=function(e){j(w(w({},T),{},x({},e.target.name,e.target.value)))},L=function(){var e,t=(e=b().mark((function e(t){var n;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!S){e.next=4;break}return g("Cannot create race while in another race"),e.abrupt("return");case 4:return e.prev=4,e.next=7,m.A.send("CreateRace",T);case 7:return e.next=9,e.sent.json();case 9:null!=(n=e.sent)&&n.failed?g(n.message||"Unable To Create Race"):(g("Race Created"),y({type:"I_RACE",payload:{state:!0}}),r&&n.id&&r(n.id)),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(4),console.error(e.t0),g("Unable To Create Race");case 17:case"end":return e.stop()}}),e,null,[[4,13]])})),function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){v(o,n,a,i,l,"next",e)}function l(e){v(o,n,a,i,l,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}();return n.createElement("div",{className:s.wrapper},Boolean(k)&&"police"!==N?n.createElement("form",{className:s.form,onSubmit:L},n.createElement(a.Ay,{className:s.formBody,container:!0,spacing:2},n.createElement(a.Ay,{item:!0,xs:12},n.createElement(o.A,{fullWidth:!0,autoFocus:!0,required:!0,label:"Event Name",name:"name",variant:"outlined",value:T.name,onChange:R,inputProps:{maxLength:32},className:s.newInput})),n.createElement(a.Ay,{item:!0,xs:12},n.createElement(o.A,{select:!0,required:!0,fullWidth:!0,label:"Access",name:"access",variant:"outlined",value:T.access,onChange:R,className:s.newInput},h.AccessTypes.map((function(e){return n.createElement(i.A,{key:e.value,value:e.value,disabled:e.disabled,className:s.menuItem},e.label)})))),n.createElement(a.Ay,{item:!0,xs:12},n.createElement(o.A,{fullWidth:!0,label:"Host",name:"host",variant:"outlined",disabled:!0,value:null==k?void 0:k.name,required:!0,className:s.newInput})),n.createElement(a.Ay,{item:!0,xs:12},n.createElement(o.A,{select:!0,required:!0,fullWidth:!0,label:"Track",name:"track",variant:"outlined",value:T.track,onChange:R,className:s.newInput},C.map((function(e){return n.createElement(i.A,{key:e.id,value:e.id,className:s.menuItem},e.id," - ",e.Name)})))),n.createElement(a.Ay,{item:!0,xs:12},n.createElement(o.A,{fullWidth:!0,label:"# of Laps",name:"laps",variant:"outlined",type:"number",disabled:"p2p"===(null===(t=C.find((function(e){return e.id===T.track})))||void 0===t?void 0:t.Type),value:T.laps,onChange:R,required:!0,inputProps:{min:1},className:s.newInput})),n.createElement(a.Ay,{item:!0,xs:4},n.createElement(o.A,{required:!0,fullWidth:!0,label:"Countdown",name:"countdown",variant:"outlined",type:"number",value:T.countdown,onChange:R,className:s.newInput})),n.createElement(a.Ay,{item:!0,xs:8},n.createElement(o.A,{required:!0,fullWidth:!0,label:"Buy In",name:"buyin",variant:"outlined",value:T.buyin,onChange:R,inputProps:{type:"number",min:0},className:s.newInput})),T.buyin>0&&n.createElement(a.Ay,{item:!0,xs:12},n.createElement(l.A,{variant:"filled",severity:"warning"},"Cash is not automatically gathered, as the race host you must manage getting the buy ins from all racers and handle paying out winners")),n.createElement(a.Ay,{item:!0,xs:6},n.createElement(o.A,{fullWidth:!0,label:"DNF Start",name:"dnf_start",variant:"outlined",type:"number",value:T.dnf_start,onChange:R,required:!0,className:s.newInput})),n.createElement(a.Ay,{item:!0,xs:6},n.createElement(o.A,{fullWidth:!0,label:"DNF Time",name:"dnf_time",variant:"outlined",type:"number",value:T.dnf_time,onChange:R,required:!0,className:s.newInput})),n.createElement(a.Ay,{item:!0,xs:"none"===T.phasing?12:7},n.createElement(o.A,{select:!0,required:!0,fullWidth:!0,label:"Phasing",name:"phasing",variant:"outlined",value:T.phasing,onChange:R,className:s.newInput},h.GhostTypes.map((function(e){return n.createElement(i.A,{key:e.value,value:e.value,className:s.menuItem},e.label)})))),"none"!==T.phasing&&n.createElement(a.Ay,{item:!0,xs:5},"timed"===T.phasing?n.createElement(o.A,{fullWidth:!0,label:"Time (in Seconds)",name:"phasingAdv",variant:"outlined",type:"number",value:T.phasingAdv,onChange:R,required:!0,inputProps:{min:3,max:60},className:s.newInput}):"checkpoints"===T.phasing?n.createElement(o.A,{fullWidth:!0,label:"# of Checkpoints",name:"phasingAdv",variant:"outlined",type:"number",value:T.phasingAdv,onChange:R,required:!0,inputProps:{min:1,max:10},className:s.newInput}):null),n.createElement(a.Ay,{item:!0,xs:12},n.createElement(o.A,{select:!0,fullWidth:!0,label:"Vehicle Class",name:"class",variant:"outlined",value:T.class,onChange:R,required:!0,className:s.newInput},n.createElement(i.A,{value:"D",className:s.menuItem},"D Class"),n.createElement(i.A,{value:"C",className:s.menuItem},"C Class"),n.createElement(i.A,{value:"B",className:s.menuItem},"B Class"),n.createElement(i.A,{value:"A",className:s.menuItem},"A Class"),n.createElement(i.A,{value:"S",className:s.menuItem},"S Class"),n.createElement(i.A,{value:"All",className:s.menuItem},"All Classes"))),n.createElement(a.Ay,{item:!0,xs:12},n.createElement(c.A,{type:"submit",fullWidth:!0,className:s.submitButton,variant:"contained"},"Create Race")))):k?n.createElement(p.default,null):n.createElement(d.default,null))}},80693:(e,t,r)=>{r.r(t),r.d(t,{default:()=>l});var n=r(2759),a=r(78974),o=r(63054),i=(0,a.A)((function(e){return{race:{display:"flex",fontFamily:'"Segoe UI", Tahoma, Geneva, Verdana, sans-serif',borderBottom:"1px solid rgba(134, 133, 239, 0.2)",borderRadius:"12px",marginTop:"12px",marginBottom:"8px",padding:"12px 16px",width:"90%",background:"rgba(134, 133, 239, 0.1)",transition:"all 0.2s ease",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)","&:hover":{background:"rgba(134, 133, 239, 0.2)",transform:"translateY(-2px)",boxShadow:"0 4px 12px rgba(134, 133, 239, 0.2)",cursor:"pointer"}},classIcon:{width:50,height:50,display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"8px",background:"rgba(134, 133, 239, 0.15)",marginRight:"12px","& span":{fontFamily:'"Segoe UI", Tahoma, Geneva, Verdana, sans-serif',color:"#8685EF",fontSize:22,fontWeight:"bold"}},label:{flexGrow:1,fontFamily:'"Segoe UI", Tahoma, Geneva, Verdana, sans-serif',maxWidth:"calc(100% - 100px)",width:"100%"},raceName:{fontSize:16,fontWeight:"600",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",lineHeight:"24px",marginTop:4,color:"white"},trackName:{fontSize:14,lineHeight:"18px",color:"rgba(255, 255, 255, 0.7)","& small":{fontSize:12,color:"rgba(255, 255, 255, 0.5)",marginLeft:"6px"}},arrow:{width:50,display:"flex",alignItems:"center",justifyContent:"center",color:"#8685EF",fontSize:"18px"}}}));const l=function(e){var t=e.track,r=e.race,a=e.onViewRace,l=i();return r&&t?n.createElement("div",{className:l.race,onClick:function(){a&&null!=r&&r.id&&a(r.id)}},n.createElement("div",{className:l.classIcon},"All"!==r.class?n.createElement("span",null,r.class):n.createElement("span",null,"ALL")),n.createElement("div",{className:l.label},n.createElement("div",{className:l.raceName},r.name),n.createElement("div",{className:l.trackName},t.Name," ",n.createElement("small",null,"(",Object.keys(r.racers||{}).length," Racers)"))),n.createElement("div",{className:l.arrow},n.createElement(o.g,{icon:["far","chevron-right"]}))):null}}}]);